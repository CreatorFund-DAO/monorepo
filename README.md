---

#  CreatorFundDAO : API, Tomo, & Frontend Flow

---

##  **1. User Onboarding & Authentication (Frontend → Tomo APIs)**

| **Step**                 | **Action**                                                           | **Flow/API Call**                                         |
| ------------------------ | -------------------------------------------------------------------- | --------------------------------------------------------- |
| **User visits DApp**     |  **Social login (via Tomo)**                        | ➔ `POST /auth/social-login` → Tomo server returns address |
| **Wallet Creation**      | If new → creates wallet securely using **TEE-backed** infrastructure | ➔ `POST /wallet/create` → returns wallet address          |
| **Retrieve Wallet Info** | Shows wallet address, tokens, DAO participation                      | ➔ `GET /wallet/{address}`                                 |

---

##  **2. IP Registration (Frontend → Story Protocol APIs)**

| **Step**                | **Action**                                       | **Flow/API Call**                                     |
| ----------------------- | ------------------------------------------------ | ----------------------------------------------------- |
| **Mint NFT (IP Asset)** | Creator mints ERC-721 NFT → registers on Story   | ➔ Smart Contract Call → `StoryProtocol.mintIPAsset()` |
| **Add Metadata**        | Upload metadata JSON (ERC721 + Story IPA format) | ➔ `POST /ip/metadata-upload` (custom server or IPFS)  |
| **Generate IP Account** | ERC-6551 Token Bound Account deployed            | ➔ Auto-generated by Story Protocol                    |

---

##  **3. DAO Setup (Frontend → CreatorFund DAO APIs + Smart Contracts)**

| **Step**                    | **Action**                                               | **Flow/API Call**                                      |
| --------------------------- | -------------------------------------------------------- | ------------------------------------------------------ |
| **Create DAO**              | Deploys **CreatorFundDAO** smart contract                | ➔ Smart Contract Call → `CreatorFundDAO.deploy()`      |
| **Fractionalize Ownership** | Issues ERC-20 DAO Tokens for ownership/governance        | ➔ Smart Contract Call → `CreatorFundDAO.issueTokens()` |
| **DAO Dashboard**           | Creator & supporters view ownership, proposals, treasury | ➔ `GET /dao/{daoId}` → Returns DAO details             |

---

##  **4. Governance (Frontend → DAO APIs → Smart Contract Interaction via Tomo)**

| **Step**              | **Action**                                                  | **Flow/API Call**                             |
| --------------------- | ----------------------------------------------------------- | --------------------------------------------- |
| **Proposal Creation** | Propose new license fees, revenue splits, treasury spending | ➔ `POST /dao/{daoId}/proposals`               |
| **Vote on Proposal**  | DAO Token holders sign transactions with **Tomo Wallet**    | ➔ Tomo Sign → `POST /transactions/sign`       |
| **Execute Proposal**  | Approved → call `execute()` on IP Account (ERC-6551)        | ➔ Smart Contract Call → `IPAccount.execute()` |

---

##  **5. Licensing & Monetization (Frontend → Story Protocol APIs)**

| **Monetization Type** | **Action**                                           | **Flow/API Call**                                                |
| --------------------- | ---------------------------------------------------- | ---------------------------------------------------------------- |
| **Direct Licensing**  | Buyer mints License NFT                              | ➔ Smart Contract Call → `LicensingModule.mintLicense()`          |
| **Royalty Tokens**    | DAO fractionalizes future royalties via tokens       | ➔ Smart Contract Call → `RoyaltyModule.mintRoyaltyTokens()`      |
| **Fractionalization** | Sell ERC-20 shares representing IP fractions         | ➔ Smart Contract Call → `CreatorFundDAO.issueFractionalTokens()` |
| **Borrow Against IP** | DAO collateralizes IP, borrowing funds for liquidity | ➔ Integration with DeFi protocols or **custom lending module**   |

---

##  **6. Rights Protection & Disputes (Frontend → Story Dispute Modules)**

| **Step**              | **Action**                                               | **Flow/API Call**                                       |
| --------------------- | -------------------------------------------------------- | ------------------------------------------------------- |
| **Dispute Raised**    | Dispute over ownership/infringement triggered            | ➔ `POST /story/disputes/new`                            |
| **Resolution Voting** | DAO votes on resolution                                  | ➔ DAO → Proposal → Vote → `IPAccount.execute()`         |
| **Freeze Metadata**   | If finalized, metadata frozen for long-term IP integrity | ➔ Smart Contract Call → `CoreMetadata.freezeMetadata()` |

---



##  Example API Interaction: Create Proposal

```http
POST /dao/{daoId}/proposals
{
  "title": "Increase licensing fee by 20%",
  "description": "Due to increasing demand, we propose raising license fees.",
  "creator": "0xCreatorAddress"
}
```

---



# shadcn/ui monorepo template

This template is for creating a monorepo with shadcn/ui.

## Usage

```bash
pnpm dlx shadcn@latest init
```

## Adding components

To add components to your app, run the following command at the root of your `web` app:

```bash
pnpm dlx shadcn@latest add button -c apps/web
```

This will place the ui components in the `packages/ui/src/components` directory.

## Tailwind

Your `tailwind.config.ts` and `globals.css` are already set up to use the components from the `ui` package.

## Using components

To use the components in your app, import them from the `ui` package.

```tsx
import { Button } from "@workspace/ui/components/button"
```
